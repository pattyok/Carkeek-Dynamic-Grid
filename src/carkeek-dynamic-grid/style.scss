/**
 * The following styles get applied both on the front of your site
 * and in the editor.
 *
 */

.wp-block-carkeek-blocks-dynamic-grid {
	& h2 {
				font-size: var(--cdg-heading-size, 1rem);
				font-weight: var(--cdg-heading-weight, 500);
				margin: 0;
			}

	& .cdg-filter-wrapper {
		display: flex;
		justify-content: center;
		align-items: center;
		margin-bottom: 3rem;
		gap: var(--cdg-filter-gap, 1rem);
		& button {
			padding: var(--cdg-button-padding, 25px);
			border-radius: var(--cdg-button-border-radius, 25px);
			background: var(--cdg-button-background, #fff);
			color: var(--cdg-button-color, #000);
			border: var(--cdg-button-border, 1px solid #000);
			&:hover,
			&.active {
				background: var(--cdg-button-hover-background, #000);
				color: var(--cdg-button-hover-color, #fff);
				border: var(--cdg-button-hover-border, 1px solid #000);
			}
		}
	}

	& .cdg-no-image {
		background: url('images/placeholder.png') no-repeat center center;
		background-size: cover;
		opacity: 0.25;
		width: 100%;
		height: 100%;
	}

	&.is-style-grid {
		& .cdg-grid-wrapper {
			display: grid;
			grid-template-columns: repeat(auto-fill, minmax(var(--cdg-img-min-width, 200px), 1fr));
			grid-gap: var(--cdg-grid-gap, 2rem);


			& img {
				width: 100%;
				height: auto;
				aspect-ratio: var(--cdg-img-aspect-ratio, 1.5);
				object-fit: cover;
				overflow-clip-margin: unset;
			}
		}
	}
	&.is-style-tiles {
		& .cdg-grid-wrapper {
			display: grid;
			grid-template-columns: repeat(12, 1fr);
        	grid-auto-rows: var(--ck-grid-row-height);
			grid-gap: var(--cdg-grid-gap, 2rem);
		}
		& .cdg-grid-item {
			grid-column: span 12;
			grid-row: span 6;
			position: relative;

			& img {
				width: 100%;
				height: 100%;
				object-fit: cover;
				overflow-clip-margin: unset;
			}
		}
	}
	@media screen and (min-width: 600px) {
		&.is-style-tiles {
			& .cdg-grid-item {
				grid-column: span 6;
				grid-row: span 4;
				&:nth-child(10n + 3) {
					grid-column: span 12;
					grid-row: span 5;
				}
				&:nth-child(10n + 4) {
					grid-column: span 5;
					grid-row: span 3;
				}
				&:nth-child(10n + 5) {
					grid-column: span 7;
					grid-row: span 6;
				}
				&:nth-child(10n + 6) {
					grid-column: span 5;
					grid-row: span 3;
				}
				&:nth-child(10n + 7) {
					grid-column: span 12;
					grid-row: span 5;
				}
				&:nth-child(10n + 8) {
					grid-column: span 7;
					grid-row: span 6;
				}
				&:nth-child(10n + 9) {
					grid-column: span 5;
					grid-row: span 3;
				}
				&:nth-child(10n + 10) {
					grid-column: span 5;
					grid-row: span 3;
				}
			}
		}
		&.is-style-tiles.is-tile-style-small {
			& .cdg-grid-item {
				grid-column: span 6;
				grid-row: span 4;
				&:nth-child(12n + 1) {
					grid-column: span 6;
					grid-row: span 4;
				}
				&:nth-child(12n + 2) {
					grid-column: span 3;
					grid-row: span 2;
				}
				&:nth-child(12n + 3) {
					grid-column: span 3;
					grid-row: span 4;
				}
				&:nth-child(12n + 4) {
					grid-column: span 3;
					grid-row: span 2;
				}
				&:nth-child(12n + 5) {
					grid-column: span 3;
					grid-row: span 4;
				}
				&:nth-child(12n + 6) {
					grid-column: span 6;
					grid-row: span 4;
				}
				&:nth-child(12n + 7) {
					grid-column: span 3;
					grid-row: span 2;
				}
				&:nth-child(12n + 8) {
					grid-column: span 3;
					grid-row: span 2;
				}
				&:nth-child(12n + 9) {
					grid-column: span 3;
					grid-row: span 2;
				}
				&:nth-child(12n + 10) {
					grid-column: span 3;
					grid-row: span 4;
				}
				&:nth-child(12n + 11) {
					grid-column: span 6;
					grid-row: span 4;
				}
				&:nth-child(12n + 12) {
					grid-column: span 3;
					grid-row: span 2;
				}

			}
		}
	}

	&.is-style-meta-overlay {
		& .cdg-grid-item {
			position: relative;

			& .cdg-item-meta {
				position: absolute;
				top: 0;
				left: 0;
				right: 0;
				bottom: 0;
				display: flex;
				flex-direction: column;
				justify-content: center;
				align-items: center;
				background-color: rgba(0, 0, 0, 0.15);
				color: var(--cdg-meta-color, #fff);
				text-shadow: var(--cdg-text-shadow, 0px 0px 10px rgba(0, 0, 0, 0.50));
				transition: all 0.3s;
				text-align: center;
				padding: 2rem;
				& * {
					color: var(--cdg-meta-color, #fff);
				}
			}

			&:hover {
				& .cdg-item-meta {
					background-color: rgba(0, 0, 0, 0.65);
				}
			}
		}
		&.is-style-meta-hover {
			& .cdg-grid-item {
				& .cdg-item-meta {
					background-color: rgba(0, 0, 0, 0.15);
					opacity: 0;
				}
				&:hover {
					& .cdg-item-meta {
						opacity: 1;
					}
				}
			}
		}
	}
	& ul.cdg-meta-taxonomy {
		list-style: none;
		display: flex;
		flex-wrap: wrap;
		justify-content: center;
		margin: 0;
		padding: 0;
		& li {
			margin: 0;
			padding: 0;
			&:before {
				content: var(--cdg-tax-list-separator, '\2022');
				padding-right: 0.5rem;
				padding-left: 0.5rem;
			}
			&:first-child:before {
				content: '';
			}
		}
	}


}


@media (hover: none){
	.wp-block-carkeek-blocks-dynamic-grid {
		&.is-style-meta-overlay.is-style-meta-hover {
			& .cdg-grid-item {
				& .cdg-item-meta {
					top: auto;
					height: 40px;
				}
				&.active {
					& .cdg-item-meta {
						opacity: 1;
					}
				}

			}
		}
	}
}

